(function(t){function n(n){for(var i,r,s=n[0],u=n[1],c=n[2],d=0,f=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&f.push(a[r][0]),a[r]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);l&&l(n);while(f.length)f.shift()();return o.push.apply(o,c||[]),e()}function e(){for(var t,n=0;n<o.length;n++){for(var e=o[n],i=!0,s=1;s<e.length;s++){var u=e[s];0!==a[u]&&(i=!1)}i&&(o.splice(n--,1),t=r(r.s=e[0]))}return t}var i={},a={app:0},o=[];function r(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=i,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)r.d(e,i,function(n){return t[n]}.bind(null,i));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/vue-danmaku/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=n,s=s.slice();for(var c=0;c<s.length;c++)n(s[c]);var l=u;o.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"0071":function(t,n){var e=[{avatar:"https://i.loli.net/2021/01/17/iI5hq9ozPxXNFfy.jpg",name:"美绪",text:"马什么梅？"},{avatar:"https://i.loli.net/2021/01/17/YcPdNkQyAUaTWG8.jpg",name:"博士",text:"马东什么？"},{avatar:"https://i.loli.net/2021/01/17/cPtsFmaJ2OiYZRb.jpg",name:"柚子",text:"什么冬梅？"}],i=["草","高技术力","汤姆逊波纹疾走…啊哒哒哒哒哒哒……","此曲一出，非死即伤","这播放量不应该啊","牛皮！","全  文  背  诵","ohhhhhhh","NICE","草这死亡姿势","日常迫害团长","溜了溜了","火钳刘明","真实","汤姆逊波纹疾走","不  要  停  下  来  啊","泥 给 路 打 油","停下来了","草","完全一致","你怎么还没有被禁赛","6P41波纹疾走!!!","牛逼","草","草","cccccccc","人才不火系列","双厨狂喜","双厨曝炸","火钳留名","火钳留名","牛逼啊","草","草","要素过多","火钳刘明","高技术力suki","bo良ki影觉得很赞","你们的下一句话是名场面","Niiice","太草了","哈哈哈哈","火钳刘明","6p41疾走","袭击妈妈","占戈哥欠走己","又看jojo又玩r6的人恐怕太少了吧","好活当赏","要素过多","动作也太流畅了吧","世界名画","好活，当赏","全程高能","新人都是怪物.jpg","我的人质啊","袭击妈妈锁孔看她","完全不会画画（大嘘）","好活","爆头 2333333","把队友杀了的屑","动作指导:奥尔加","草","要素过多","噗","让你玩手机","6啊","我负责救人质","三厨狂喜","三厨狂喜","万能日语","耶———————格——————————","6P41波纹疾走","“哦”踩点还行","火钳刘明。","哎地唉洗","这枪不是m249啊，等等叫什么来的","火钳刘明","光棍节， 。去过","炸死队友哈哈哈","火钳刘明","火钳刘明","cao","火钳刘明","提前Niiiiiiiice！","火钳刘明","神仙UP","又被爆头了","6p41疾走","好活","人质好好笑啊","不要停下来啊","好活啊！！","6P41波纹疾走 （换成AK是不是更爽）","恭喜你发现宝藏","恭喜你发现宝藏","恭喜你发现宝藏","前方高能","封禁30分钟","火钳刘明","该赏","我靠，就冲着高帧数，投币了","不 要 停 下 来 啊（指你给路）","卧槽 无情","草","ADS草","世界线收束","火钳刘明","人质：给我把抢我跟他拼了","小车灵魂","卧槽这帧数","jojoの奇妙转场","niiiiiiice","好活","要素过多","6p41","TK*3移除对战","这场景布置有弹丸那味儿了","草","草","不要让战斗停下来","火钳留名","炸死俩盾哈哈","太草了，","万能日语","伪渲染(确信)","要素过多","火钳刘明","卧槽","炸死队友","危","这才是真正的高技术力","高技术力suki","火钳刘明","欺负我不懂日语系列","我打我自己","帧数爆炸","危","危","要素过多","巨真实这小车","牛逼","帧数高的吓人","5v5→3v3","我都是俄式救援","niiiiiiiiiiiice","别啊！","尼给路嗒呦","目测会火","双厨狂喜","人质已解救（脱）","哈哈哈哈哈","要素过多","nb","杀了两个队友不就被踢出去了吗","这是新人？","没毛病","一甲fuze","要素过多","大————头————","人————质————","这是组长吗？","不是M249，是PKP","卡其脱离太","等等JOJO是你？","我就是又看JOJO又玩r6","二乔？？？？？？","这也太流畅了吧","这tm能出番了这帧数和技术","kpm波纹疾走","大制作","太草了","耶——格——","高技术力","精神小车","左轮庸医","袭击人质，锁孔看他","奈~~斯 屑队友被杀✓","惨  盾兵  惨","打敌人误伤不算","不要停下来啊! (指解救人质)","嘴巴被贴胶还能说话的人质是鉴","哈哈哈哈哈哈哈哈哈","一局11杀","二乔同款姿势 哈哈","耶格！","看","鉴作无误","双出狂喜","为什么不是中文","经典咚咚咚………三声雷，带你飞","要素过多","jojo","三厨狂喜","我也是又看又玩","我都听到lisalisa了doge","你给路打油","确实质量很高啊","NICE","银魂？","火钳刘明","我就是又看jojo又玩R6（1631小时）的，你有什么事吗？","哟西哟西","要素过多","我也是看JOJO，玩r6","nokk","800小时r6加二刷jojo在此","好活","jojo","fuze the hostage","不要停下来！！！！！","pkppkp波纹疾走","新人都是怪物吗？","23333333","我先来，首页通知书","咚咚咚放这里。。。","火钳刘明","火钳刘明","火钳刘明","队友都炸","nice","哈哈哈哈","人质:危！","危","火钳刘明","人质  卒","你币有了","打投组","恭喜首頁通知書！","要素溢出","HOSTAGE KIA","233","是无托版的PKP","666","hostage KIA","tk哈哈哈","要素过多","这个肌肉我可以惹","6的飞起","jo风","混入了奇怪的东西","草","袭击妈妈，锁孔看她","哈哈哈哈哈哈","，","草","牛逼","高技术力啊","opp","X","组长！","草（中日双语）","哈哈哈哈哈哈","-500",".","看封面识内容系列","草","首页通知书","要素过多","但是不会画画","草","不要停下来啊！","梅开三度","四回啊四回","高帧好评","人质已解脱","草","强","好活！","好流畅","草","666","好活儿当赏","新人都是怪物系列","高技术力","niiiiiiiiiiiiiiice","人质危","哈哈哈哈","带制作，三连了","鉴作","咚咚咚","咚咚咚咚棒棒棒棒","要素过多","不应该是打中耳机吗","高技术力","完了","彩虹六号牛批","口罩都有荒木线，佛了","哈哈哈","要素爆炸","高技术力","cao caocaocaocao","哈哈哈哈哈哈哈","等等，2乔这里说的是30分钟","首页通知书","海     岸     线","pkp波纹疾走","耶————————格————————","人 质 凶 手 -500","队友：WDNMD","jojo？？？","点进来之前我以为是fuze饮料。。","要素过多","绝了","要素过多","灭 霸","新人都是魔鬼","帧数爆炸","Cluster Charge activated！","要素过多","Hostage KIA，Mission failed","人质已解脱。。。","开 幕 雷 击","哈哈哈哈","ADS草死了","+0","牛批牛批","拜见大神","阿虚","这帧数，感觉在看动漫","卡其脱离太","双厨狂喜","问问","不要停下来啊！！！！！","h","不要停下来啊","要真30分钟都不用结束回合了，都开始第二局游戏了","这也太强了","。。。。。。。。。。。。","hoho","要素过多","哈哈哈哈哈哈哈哈哈哈哈哈哈哈","哈哈哈哈哈哈哈哈哈哈",".00","哈哈","万能的日语","首页通知书","我卡了？","hhhhh","大盾闪盾好惨","哈哈哈哈哈哈哈哈哈","草","要素太多受不了哈哈哈哈哈哈哈","火钳刘明","首页通知书","lisalisa","这是什么蛇皮操作，看不懂","敌 我 不 分","草","666","哈哈哈哈啊哈哈哈","完全一致","要素过多","你又双叒叕发现了新的宝藏","火钳刘明","2333","高  技  术  力","三梗合一","四梗合一","火钳刘明","杀2个队友不是直接飞了吗","首页通知书","海岸线","是延迟","好活当赏","这个我遇到过，fuze就是我，人质敌人队友都被我杀掉了，被老外骂并被踢了","草素过多","人质——  再不能起","必须三联","开始吟唱","不要停下来啊","草","？？？？？？？？？？？？？？？？？","tab+shift","帧数高的和动画一样","wwwwwwwwwwww","好强","23333333","好活当赏","此曲一出","要素过载","火钳刘明","要素过载","好活！！！！","开始吟唱","我听得懂咋办，在线等，很急","哇哇哇好高清",".","医 学 奇 迹","jo里jo气的","jojo画风","哈哈哈哈哈哈","俄式反恐","别拦我，老子把3个ADS都丢他脸上","-500","万 能 日 语","666","人质杀手","做的真的棒。","我NM笑疯","双厨狂喜","玛撒卡！这是袭击妈妈配音？","nice","jojo!","JO小鬼来力","真实","我又玩R6又看JOJO","完  全  不  会  画  画","秀儿","是系统自动踢人的，老外来不及踢你","6p41波纹疾走","火钳刘明","lisalisa？？？？？","盾——兵——（悲）","就是没有汤姆逊，汤姆逊波纹疾走！！","要素过多","。。。。？？","组长你怎么了组长","UP:我 完 全 不 会 画 画","再来亿遍","泥给路带呦～","哈哈哈哈哈哈哈哈哈","哈哈哈哈哈哈哈哈哈","火钳刘明"];t.exports={customDanmus:e,danmus:i}},"0554":function(t,n,e){var i=e("96a4");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("499e").default;a("17611838",i,!0,{sourceMap:!1,shadowMode:!1})},"14ef":function(t,n,e){"use strict";e("8775")},"56d7":function(t,n,e){"use strict";e.r(n);var i=e("2b0e"),a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("vue-danmaku",t._b({ref:"danmaku",staticClass:"demo",attrs:{danmus:t.danmus},scopedSlots:t._u([{key:"dm",fn:function(n){var i=n.index,a=n.danmu;return[e("div",{staticClass:"danmu-item"},[e("img",{staticClass:"img",attrs:{src:a.avatar}}),e("span",[t._v(t._s(i)+t._s(a.name)+"：")]),e("span",[t._v(t._s(a.text))])])]}}])},"vue-danmaku",t.config,!1),[e("div")]),e("div",{staticClass:"main"},[t._m(0),e("div",{staticClass:"action"},[e("p",[t._v(" 播放： "),e("button",{staticClass:"btn",on:{click:function(n){return t.play("play")}}},[t._v("播放")]),e("button",{staticClass:"btn",on:{click:function(n){return t.play("pause")}}},[t._v("暂停")]),e("button",{staticClass:"btn",on:{click:function(n){return t.play("stop")}}},[t._v("停止")])]),e("p",[t._v(" 模式： "),e("button",{staticClass:"btn",on:{click:function(n){return t.switchSlot(!0)}}},[t._v("弹幕 slot")]),e("button",{staticClass:"btn",on:{click:function(n){return t.switchSlot(!1)}}},[t._v("普通文本")])]),e("p",[t._v(" 显示： "),e("button",{staticClass:"btn",on:{click:function(n){return t.play("show")}}},[t._v("显示")]),e("button",{staticClass:"btn",on:{click:function(n){return t.play("hide")}}},[t._v("隐藏")])]),e("p",[t._v(" 速度： "),e("button",{staticClass:"btn",on:{click:function(n){return t.speedChange(1)}}},[t._v("减速")]),e("button",{staticClass:"btn",on:{click:function(n){return t.speedChange(-1)}}},[t._v("增速")]),e("span",[t._v("当前速度："+t._s(t.config.speed)+"s/屏")])]),e("p",[t._v(" 字号： "),e("button",{staticClass:"btn",attrs:{disabled:t.config.useSlot},on:{click:function(n){return t.fontChange(-1)}}},[t._v("缩小")]),e("button",{staticClass:"btn",attrs:{disabled:t.config.useSlot},on:{click:function(n){return t.fontChange(1)}}},[t._v("放大")]),e("span",[t._v("当前字号："+t._s(t.config.fontSize)+"px")])]),e("p",[t._v(" 轨道： "),e("button",{staticClass:"btn",on:{click:function(n){return t.channelChange(-1)}}},[t._v("-1")]),e("button",{staticClass:"btn",on:{click:function(n){return t.channelChange(1)}}},[t._v("+1")]),e("button",{staticClass:"btn",on:{click:function(n){return t.channelChange(-t.config.channels)}}},[t._v("填满")]),e("span",[t._v("当前轨道："+t._s(t.config.channels))])]),e("p",[t._v(" 发送： "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.danmuMsg,expression:"danmuMsg"}],staticClass:"ipt",attrs:{type:"text"},domProps:{value:t.danmuMsg},on:{input:function(n){n.target.composing||(t.danmuMsg=n.target.value)}}}),e("button",{staticClass:"btn",on:{click:t.addDanmu}},[t._v("发送")])]),e("p",[t._v(" 性能： "),e("button",{staticClass:"btn",on:{click:function(n){return t.setPerformance("block")}}},[t._v("显示")]),e("button",{staticClass:"btn",on:{click:function(n){return t.setPerformance("none")}}},[t._v("隐藏")])])])]),e("a",{staticClass:"github-corner",attrs:{href:"https://github.com/hellodigua/vue-danmaku",target:"_blank","aria-label":"View source on Github"}},[e("svg",{staticStyle:{fill:"#151513",color:"#fff",position:"absolute",top:"0",border:"0",right:"0"},attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[e("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),e("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),e("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])])],1)},o=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"intro"},[e("h1",[t._v("vue-danmaku")]),e("p",[t._v("基于 Vue.js 的弹幕交互组件")])])}],r=e("3191"),s=e.n(r),u=e("0071"),c=new s.a;function l(){c.begin(),c.end(),requestAnimationFrame(l)}c.showPanel(0),document.body.appendChild(c.dom),c.dom.style.display="none",requestAnimationFrame(l);var d={name:"App",components:{},data:function(){return{danmus:u["danmus"],config:{channels:5,useSlot:!1,loop:!0,speed:8,speeding:200,fontSize:20,top:10,right:0,debounce:100},danmuMsg:""}},created:function(){screen.width<750&&(this.config.channels=0)},mounted:function(){var t=this;window.onresize=function(){return t.resizeHandler()}},beforeDestroy:function(){window.onresize=null},methods:{play:function(t){switch(t){case"play":this.$refs.danmaku.play();break;case"pause":this.$refs.danmaku.pause();break;case"stop":this.$refs.danmaku.stop();break;case"show":this.$refs.danmaku.show();break;case"hide":this.$refs.danmaku.hide();break;case"reset":this.$refs.danmaku.reset();break;default:break}},switchSlot:function(t){var n=this;this.config.useSlot=t,this.danmus=t?u["customDanmus"]:u["danmus"],setTimeout((function(){n.$refs.danmaku.reset(),n.$refs.danmaku.play()}))},setPerformance:function(t){c.dom.style.display=t},speedChange:function(t){1===this.config.speed&&-1===t||(this.config.speed+=t,this.$refs.danmaku.reset())},fontChange:function(t){this.config.fontSize+=t,this.$refs.danmaku.reset()},channelChange:function(t){(this.config.channels||-1!==t)&&(this.config.channels+=t,this.$refs.danmaku.setChannels(this.config.channels))},resizeHandler:function(){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.$refs.danmaku.resize()}),500)},addDanmu:function(){if(this.danmuMsg){var t=this.config.useSlot?{avatar:"https://i.loli.net/2021/01/17/xpwbm3jKytfaNOD.jpg",name:"你",text:this.danmuMsg}:this.danmuMsg;this.$refs.danmaku.add(t),this.danmuMsg=""}}}},f=d,h=(e("5c0b"),e("2877")),p=Object(h["a"])(f,a,o,!1,null,null,null),m=p.exports,b=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"container",staticClass:"vue-danmaku"},[e("div",{ref:"dmContainer",class:["danmus",{show:!t.hidden},{paused:t.paused}]}),t._t("default")],2)},g=[];function v(t){return v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function y(t,n){var e;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=S(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return r=t.done,t},e:function(t){s=!0,o=t},f:function(){try{r||null==e.return||e.return()}finally{if(s)throw o}}}}function k(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function w(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?k(Object(e),!0).forEach((function(n){x(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):k(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function x(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function C(t){return O(t)||_(t)||S(t)||j()}function j(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(t,n){if(t){if("string"===typeof t)return $(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?$(t,n):void 0}}function _(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function O(t){if(Array.isArray(t))return $(t)}function $(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var P={props:{danmus:{type:Array,required:!0,default:function(){return[]}},channels:{type:Number,default:0},autoplay:{type:Boolean,default:!0},loop:{type:Boolean,default:!1},useSlot:{type:Boolean,default:!1},debounce:{type:Number,default:100},speed:{type:Number,default:10},speeding:{type:Number,default:5},randomChannel:{type:Boolean,default:!1},fontSize:{type:Number,default:18},top:{type:Number,default:4},right:{type:Number,default:0},extraStyle:{type:String,default:""}},data:function(){return{$container:null,$dmContainer:null,container:{width:0,height:0},danmaku:{channels:0,autoplay:!0,loop:!1,useSlot:!1,debounce:100,randomChannel:!1},danmu:{height:0,fontSize:18,speed:10,speeding:5,top:4,right:0},danmuList:[],timer:null,index:0,hidden:!1,paused:!1,danChannel:{}}},computed:{},watch:{danmus:{handler:function(t){this.danmuList=C(t)},deep:!0}},created:function(){},mounted:function(){this.init()},beforeDestroy:function(){this.clear()},methods:{init:function(){this.initCore(),this.initConfig(),this.danmaku.autoplay&&this.play()},initCore:function(){this.$container=this.$refs.container,this.$dmContainer=this.$refs.dmContainer,this.container={width:this.$container.offsetWidth,height:this.$container.offsetHeight}},initConfig:function(){this.danmuList=C(this.danmus),this.danmaku=w(w({},this.danmaku),{},{channels:this.channels,autoplay:this.autoplay,loop:this.loop,useSlot:this.useSlot,debounce:this.debounce,randomChannel:this.randomChannel}),this.danmu=w(w({},this.danmu),{},{speed:this.speed,speeding:this.speeding,fontSize:this.fontSize,top:this.top,right:this.right})},play:function(){this.paused=!1,this.timer||this.draw()},draw:function(){var t=this;this.$nextTick((function(){t.timer=setInterval((function(){!t.paused&&t.danmuList.length&&(t.index>t.danmuList.length-1?(t.danmaku.loop&&(t.index=0,t.insert()),t.$emit("done")):t.insert())}),t.danmaku.debounce)}))},insert:function(){var t=this,n=this.danmaku.loop?this.index%this.danmuList.length:this.index,e=document.createElement("div");this.danmaku.useSlot?e=this.getSlotComponent(n).$el:(e.innerHTML=this.danmuList[n],e.setAttribute("style",this.extraStyle),e.style.fontSize="".concat(this.danmu.fontSize,"px"),e.style.lineHeight="".concat(this.danmu.fontSize,"px")),e.classList.add("dm"),this.$dmContainer.appendChild(e),this.$nextTick((function(){t.danmu.height&&t.danmaku.channels||(t.danmu.height=e.offsetHeight,t.danmaku.channels||(t.danmaku.channels=Math.floor(t.container.height/t.danmu.height)));var n=t.getChannelIndex(e);if(n>=0){var i=e.offsetWidth,a=t.danmu.height,o=t.container.width/t.danmu.speeding;e.classList.add("move"),e.style.animationDuration="".concat(o,"s"),e.style.top=n*(a+t.danmu.top)+"px",e.style.width=i+t.danmu.right+"px",e.style.setProperty("--dm-left-offset","-".concat(t.container.width,"px")),e.dataset.index=t.index,e.addEventListener("animationend",(function(){t.$dmContainer.removeChild(e)})),e.classList.length>0&&t.index++}else e.classList.length>0&&t.$dmContainer.removeChild(e)}))},getSlotComponent:function(t){var n=this,e=i["a"].extend({props:{danmu:[String,Object],index:Number},render:function(t){return t("div",[n.$scopedSlots.dm({danmu:this.danmu,index:this.index})])}}),a=new e({propsData:{danmu:this.danmuList[t],index:t}}).$mount(document.createElement("div"));return a},getChannelIndex:function(t){var n=this,e=C(Array(this.danmaku.channels).keys());this.danmaku.randomChannel&&(e=e.sort((function(){return.5-Math.random()})));var i,a=y(e);try{var o=function(){var e=i.value,a=n.danChannel[e];if(!a||!a.length)return n.danChannel[e]=[t],t.addEventListener("animationend",(function(){return n.danChannel[e].splice(0,1)})),{v:e%n.danmaku.channels};for(var o=0;o<a.length;o++){var r=n.getDanRight(a[o])-10;if(r<=.88*(t.offsetWidth-a[o].offsetWidth)||r<=0)break;if(o===a.length-1)return n.danChannel[e].push(t),t.addEventListener("animationend",(function(){return n.danChannel[e].splice(0,1)})),{v:e%n.danmaku.channels}}};for(a.s();!(i=a.n()).done;){var r=o();if("object"===v(r))return r.v}}catch(s){a.e(s)}finally{a.f()}return-1},getDanRight:function(t){var n=t.offsetWidth||parseInt(t.style.width),e=t.getBoundingClientRect().right||this.$dmContainer.getBoundingClientRect().right+n;return this.$dmContainer.getBoundingClientRect().right-e},clearTimer:function(){clearInterval(this.timer),this.timer=null},clear:function(){this.clearTimer(),this.index=0},reset:function(){this.$container=null,this.$dmContainer=null,this.danmu.height=0,this.init()},stop:function(){this.danChannel={},this.$dmContainer.innerHTML="",this.paused=!0,this.hidden=!1,this.clear(),this.initConfig()},pause:function(){this.paused=!0},add:function(t){var n=this.index%this.danmuList.length;this.danmuList.splice(n,0,t)},push:function(t){this.danmuList.push(t)},setChannels:function(t){this.danmaku.channels=t},getPlayState:function(){return!this.paused},show:function(){this.hidden=!1},hide:function(){this.hidden=!0},resize:function(){this.initCore();for(var t=this.$dmContainer.getElementsByClassName("dm"),n=0;n<t.length;n++)t[n].style.setProperty("--dm-left-offset","-".concat(this.container.width,"px"))}}},L=P,M=(e("14ef"),Object(h["a"])(L,b,g,!1,null,null,null)),z=M.exports;z.install=function(t){t.component("vueDanmaku",z)},"undefined"!==typeof window&&window.Vue&&window.Vue.use(z);var A=z;i["a"].use(A),new i["a"]({el:"#app",render:function(t){return t(m)}})},"5c0b":function(t,n,e){"use strict";e("0554")},8775:function(t,n,e){var i=e("9dd0");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("499e").default;a("16e18eaa",i,!0,{sourceMap:!1,shadowMode:!1})},"96a4":function(t,n,e){var i=e("24fb");n=i(!1),n.push([t.i,"body{margin:0}#app{position:relative;height:100vh;width:100vw;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}#app .demo{position:fixed;top:0;width:100%;height:100%;z-index:0;background:linear-gradient(45deg,#5ac381,#20568b)}#app .demo .danmu-item{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}#app .demo .danmu-item .img{height:25px;width:25px;border-radius:50%;margin-right:5px}#app .main{position:absolute;z-index:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}#app .main .intro{display:inline-block;color:#fff;text-align:center;text-shadow:2px 4px 6px rgba(0,0,0,.4)}#app .main .intro h1{font-size:48px;line-height:32px}#app .main .action{margin-top:20px;color:#fff;min-width:360px}#app .main .action .btn{color:#000;background:#fff;border:none;padding:6px 16px;margin-right:8px;border-radius:5px;min-height:31px;outline:none;cursor:pointer;-webkit-transition:all .3s;transition:all .3s}#app .main .action .btn:hover{background-color:#f3f7fa}#app .main .action .btn:active{background-color:#fff}#app .main .action .ipt{width:130px;padding:8px 16px;border-radius:5px;outline:none;border:none;margin-right:8px}#app .github-corner:hover .octo-arm{-webkit-animation:octocat-wave .56s ease-in-out;animation:octocat-wave .56s ease-in-out}@-webkit-keyframes octocat-wave{0%,to{-webkit-transform:rotate(0);transform:rotate(0)}20%,60%{-webkit-transform:rotate(-25deg);transform:rotate(-25deg)}40%,80%{-webkit-transform:rotate(10deg);transform:rotate(10deg)}}@keyframes octocat-wave{0%,to{-webkit-transform:rotate(0);transform:rotate(0)}20%,60%{-webkit-transform:rotate(-25deg);transform:rotate(-25deg)}40%,80%{-webkit-transform:rotate(10deg);transform:rotate(10deg)}}@media (max-width:500px){#app .github-corner:hover .octo-arm{-webkit-animation:none;animation:none}#app .github-corner .octo-arm{-webkit-animation:octocat-wave .56s ease-in-out;animation:octocat-wave .56s ease-in-out}}",""]),t.exports=n},"9dd0":function(t,n,e){var i=e("24fb");n=i(!1),n.push([t.i,".vue-danmaku{position:relative;overflow:hidden}.vue-danmaku .danmus{position:absolute;left:0;top:0;width:100%;height:100%;opacity:0;-webkit-transition:all .3s;transition:all .3s}.vue-danmaku .danmus.show{opacity:1}.vue-danmaku .danmus.paused .dm.move{-webkit-animation-play-state:paused;animation-play-state:paused}.vue-danmaku .danmus .dm{position:absolute;right:0;font-size:20px;color:#fff;white-space:pre;-webkit-transform:translateX(100%);transform:translateX(100%)}.vue-danmaku .danmus .dm.move{will-change:transform;-webkit-animation-name:moveLeft;animation-name:moveLeft;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-play-state:running;animation-play-state:running}.vue-danmaku .danmus .dm.pause{-webkit-animation-play-state:paused;animation-play-state:paused;z-index:10}@keyframes moveLeft{0%{-webkit-transform:translateX(100%);transform:translateX(100%)}to{-webkit-transform:translateX(var(--dm-left-offset));transform:translateX(var(--dm-left-offset))}}@-webkit-keyframes moveLeft{0%{-webkit-transform:translateX(100%)}to{-webkit-transform:translateX(var(--dm-left-offset))}}",""]),t.exports=n}});
//# sourceMappingURL=app.91b03a62.js.map